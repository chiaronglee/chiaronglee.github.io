<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Simple use of Service Worker">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta  name="theme-color" content="#009578">

    <title>Using Service Worker</title>
    <script>
      // Add a global error event listener early on in the page load, to help ensure that browsers
      // which don't support specific functionality still end up displaying a meaningful message.
      window.addEventListener('error', function(error) {
        if (ChromeSamples && ChromeSamples.setStatus) {
          console.error(error);
          ChromeSamples.setStatus(error.message + ' (Your browser may not support this feature.)');
          error.preventDefault();
        }
      });
    </script>
    <script src="jquery-3.4.1.min.js"></script>
    <link rel="stylesheet" href="styles-hw4.css">
    <link rel="manifest" href="manifest.json">   
    <link rel="apple-touch-icon" href="boat192.png">
    <link rel="apple-touch-icon" href="boat256.png">
    <link rel="apple-touch-icon" href="boat384.png">
    <link rel="apple-touch-icon" href="boat512.png">
    <link rel="icon" href="boat192.png">
    <link rel="icon" href="boat256.png">
    <link rel="icon" href="boat384.png">
    <link rel="icon" href="boat512.png">
  </head>

  <body id="body">
    
    <h1>Basic Service Worker Sample</h1>
    <p>This page will demonstrate a basic service worker that you can use later on and customize accordingly</p>

    <h3>Demo with images</h3>
    <p>The first time you request one of the images, the service worker will be load it from the network, but the next time, it will be retrieved from the cache.</p>
    <label for="images">Choose the Background Images</label>
    <select id="images">
      <option value="lightblue.png">lightblue</option>
      <option value="lightgold.png">lightgold</option>
    </select>
  
    <button id="show">Show image Selected</button>
    <div id="container"></div>
    
      <script>
        if ('serviceWorker' in navigator) {
          navigator.serviceWorker.register('service-worker.js');
        }
     
           
        document.querySelector('#show').addEventListener('click', () => {
          const imgUrl = document.querySelector('select').selectedOptions[0].value;
          let imgElement = document.createElement('img');
            imgElement.src = imgUrl;
            document.querySelector('#container').appendChild(imgElement);
         });
         
         $('img').css('background-image','url(lightblue.jpg)');
  
     </script>

  </body>
</html>